<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Aurora Dreams</title>
    <!-- update the version number as needed -->
    <script defer src="/__/firebase/8.8.0/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/8.8.0/firebase-auth.js"></script>
    <script defer src="/__/firebase/8.8.0/firebase-database.js"></script>
    <script defer src="/__/firebase/8.8.0/firebase-firestore.js"></script>
    <script defer src="/__/firebase/8.8.0/firebase-functions.js"></script>
    <script defer src="/__/firebase/8.8.0/firebase-messaging.js"></script>
    <script defer src="/__/firebase/8.8.0/firebase-storage.js"></script>
    <script defer src="/__/firebase/8.8.0/firebase-analytics.js"></script>
    <script defer src="/__/firebase/8.8.0/firebase-remote-config.js"></script>
    <script defer src="/__/firebase/8.8.0/firebase-performance.js"></script>
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>
    <link rel="stylesheet" href="stylesheets/index.css">
    <link rel="icon" href="stylesheets/Images/favicon.ico">
  </head>

  <body>
    <main class="container">
  <h1>
    <a href="404.html">Seems like you've stumbled upon this page !</a>
  </h1>
  <h2>
    <br>Unfortunately we're still not ready yet . . . Weaving beautiful dreams takes some time !
    <br>In the meantime, may you have <span class="shine">the sweetest of dreams !</span>
  </h3>

  </main>
  <div id="mc_embed_signup">

   <form method="POST" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" novalidate onsubmit="return false">
      <label><br>Would you like to be informed when we are ready?<br></label>
      <div class="inputs">
   	  <input type="email" value="" name="data[EMAIL]" class="email" id="mce-EMAIL" placeholder="Email address" required onfocus="err()">
      <input type="submit"  value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button" onclick="validateForm()">
      </div>
      <span id="error-msg" style=" color:#7FC7B3; display:none; bottom:0"> Please input a valid email address!</span>
  </form>
  </div>
  <footer class="contact">

  <div class="box">
    <a href="https://github.com/mariaSlimani">
      <img src="stylesheets/Images/github.png" alt="Github">
    </a>
  </div>
    <div class="box">
  <a href="https://www.linkedin.com/in/wassila-maria-slimani/" >
  <img src="stylesheets/Images/linkedin.png" alt="LinkedIn">
  </a>
</div>
  <div class="box">
    <a href="https://www.facebook.com/wassila.maria.slimani/" >
    <img src="stylesheets/Images/fb.png" alt="Facebook">
    </a>
  </div>
</footer>
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <h3 style=" font-size : 4vw">Thank you for subscribing!</h3>
    <p style=" font-size : 2.3vw"><br>We'll make sure to inform you when we're up and running! Have a lovely day!</p>
  </div>

</div>
<script>
function err()
{
  document.getElementById("error-msg").style.display = "none";
}
function validateForm()
{
  const EL_form = document.getElementById("mc-embedded-subscribe-form");
  EL_form.action = "";
  var x = document.getElementById("mce-EMAIL").value;
 if (x == "") {
   document.getElementById("error-msg").style.display = "block";
 }
 else {
   if (validateEmail(x))
   {
      const EL_form = document.getElementById("mc-embedded-subscribe-form");
      EL_form.action = "https://sheetdb.io/api/v1/1ny19tpk7n040";
      submit();
   }
   else {
     document.getElementById("error-msg").style.display = "block";
   }
 }
}
function validateEmail(email) {
  const re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  return re.test(email);
}
function submit() {
  var form = document.getElementById('mc-embedded-subscribe-form');
  form.addEventListener("submit", e => {
  e.preventDefault();
  fetch(form.action, {
      method : "POST",
      body: new FormData(document.getElementById("mc-embedded-subscribe-form")),
  }).then(
      response => response.json()
  ).then((html) => {
    // you can put any JS code here
    // Get the modal
  var modal = document.getElementById("myModal");
  // Get the <span> element that closes the modal
  var span = document.getElementsByClassName("close")[0];
  // open the modal
    modal.style.display = "flex";

  // When the user clicks on <span> (x), close the modal
  span.onclick = function() {
    modal.style.display = "none";
    location.reload();
  }

  // When the user clicks anywhere outside of the modal, close it
  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }
  });
  });

  EL_form.reset();
}
</script>
    <script src="/__/firebase/8.8.0/firebase-app.js"></script>
    <script src="/__/firebase/8.8.0/firebase-analytics.js"></script>
    <script src="/__/firebase/init.js"></script>
  </body>
</html>
